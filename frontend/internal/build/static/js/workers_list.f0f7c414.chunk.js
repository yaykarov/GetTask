(this.webpackJsonpreact_js=this.webpackJsonpreact_js||[]).push([[23],{224:function(t,e,a){"use strict";a.d(e,"a",(function(){return k}));var n=a(21),r=a(24),c=a(25),o=a(30),l=a(20),i=a(0),s=a.n(i),u=a(45),d=a(225),f=a(80),h=a(232);function p(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var a,n=Object(l.a)(t);if(e()){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var b=function(t){Object(c.a)(a,t);var e=p(a);function a(){return Object(n.a)(this,a),e.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var t=this,e=[];return this.props.columns.forEach((function(a){e.push(s.a.createElement(f.a.Item,{key:a.data,name:a.data,style:{marginBottom:0}},t.props.form.getFieldDecorator(a.data,{valuePropName:"checked",initialValue:a.checked,rules:[{type:"boolean"}]})(s.a.createElement(d.a,{disabled:!!a.required||void 0},a.title))))})),s.a.createElement(f.a,null,e)}}]),a}(s.a.Component),m=f.a.create()(b),k=function(t){Object(c.a)(a,t);var e=p(a);function a(t){var r;return Object(n.a)(this,a),(r=e.call(this,t)).onSetupClick=function(){r.setState({modal_visible:!0})},r.onModalOk=function(){r.form.current.validateFieldsAndScroll((function(t,e){t||(r.setState({modal_visible:!1}),r.props.onFilterUpdate(e))}))},r.onModalCancel=function(){r.setState({modal_visible:!1})},r.form=s.a.createRef(),r.state={modal_visible:!1},r}return Object(r.a)(a,[{key:"render",value:function(){return[s.a.createElement(u.a,{key:"button",onClick:this.onSetupClick},"\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0446\u044b"),s.a.createElement(h.a,{key:"modal",visible:this.state.modal_visible,title:"\u0412\u044b\u0431\u043e\u0440 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432",onOk:this.onModalOk,onCancel:this.onModalCancel},s.a.createElement(m,{ref:this.form,columns:this.props.columns}))]}}]),a}(s.a.Component)},235:function(t,e,a){},255:function(t,e,a){"use strict";a.d(e,"a",(function(){return h}));var n=a(21),r=a(24),c=a(238),o=a(25),l=a(30),i=a(20),s=a(0),u=a.n(s);a(325),a(326),a(327),a(328);var d=a(231);d.DataTable=a(252);var f=0;var h=function(t){Object(o.a)(a,t);var e=function(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var a,n=Object(i.a)(t);if(e()){var r=Object(i.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(t){var r;return Object(n.a)(this,a),(r=e.call(this,t)).wrapperClass=function(){return"data-table-wrapper-"+r.tableId},r.selectAllCheckboxId=function(){return"datatable-"+r.tableId+"-select-all"},r.checkboxClass=function(){return"datatable-"+r.tableId+"-selection"},r.getTableId=function(){return"id_datatable_"+r.tableId},r.dataTable=function(){return d("#"+r.getTableId())},r.columns=function(t){var e=t.columns.slice();return t.enable_checkboxes&&e.unshift({title:'<input type="checkbox" id="'+r.selectAllCheckboxId()+'">',data:"checkbox"}),e},r.processData=function(t,e){var a;if(a=t.data_process?t.data_process(e):e.data,t.enable_checkboxes)for(var n=0;n<a.length;++n)a[n].checkbox='<input type="checkbox" class="'+r.checkboxClass()+'" id="datatable-'+r.tableId+"-checkbox-"+a[n].pk+'" name="id" value="'+a[n].pk+'"'+(r.checked.has(String(a[n].pk))?' checked="true" ':"")+">";return a},r.dataTableParams=function(t){var e={url:t.data_url,data:t.data_extra,dataSrc:function(e){return r.processData(t,e)}},a={dom:'<"'+r.wrapperClass()+'"lftipr>',columns:r.columns(t),serverSide:!0,ajax:e,fixedHeader:{header:!0,footer:!0},processing:!0,lengthMenu:[[20,100,200],[20,100,200]],orderCellsTop:!0,sPaginationType:"full_numbers",oLanguage:{sLengthMenu:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043e _MENU_ \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",sSearch:"\u041f\u043e\u0438\u0441\u043a:",sZeroRecords:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e - \u0438\u0437\u0432\u0438\u043d\u0438\u0442\u0435",sInfo:"\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 _START_ \u043f\u043e _END_ \u0438\u0437 _TOTAL_ \u0437\u0430\u043f\u0438\u0441\u0435\u0439",sInfoEmpty:"\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 0 \u043f\u043e 0 \u0438\u0437 0 \u0437\u0430\u043f\u0438\u0441\u0435\u0439",sInfoFiltered:"(filtered from _MAX_ total records)",oPaginate:{sFirst:"\u041f\u0435\u0440\u0432\u0430\u044f",sNext:">",sPrevious:"<",sLast:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f"}}};return t.enable_checkboxes&&(a.columnDefs=[{orderable:!1,targets:0}],a.order=[[1,"asc"]]),a},r.initDataTable=function(t){r.dataTable().DataTable(r.dataTableParams(t));var e="."+r.checkboxClass();d(document).on("click","#"+r.selectAllCheckboxId(),(function(){d(e).prop("checked",this.checked).trigger("change")}));var a=Object(c.a)(r);d(document).on("change",e,(function(){this.checked?a.checked.add(this.value):a.checked.delete(this.value)}))},r.checked=new Set,r.tableId=function(){var t=f;return f+=1,t}(),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.initDataTable(this.props)}},{key:"componentWillUnmount",value:function(){this.dataTable().DataTable().destroy()}},{key:"shouldComponentUpdate",value:function(t){return JSON.stringify(this.props)!==JSON.stringify(t)&&(this.dataTable().DataTable().clear(),this.dataTable().DataTable().destroy(),this.dataTable().html(""),this.initDataTable(t)),!1}},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement("table",{id:this.getTableId(),className:"table table-hover rh-table"}))}}]),a}(u.a.Component)},328:function(t,e,a){},396:function(t,e,a){t.exports=a(412)},412:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),l=a(21),i=a(24),s=a(25),u=a(30),d=a(20),f=a(45),h=a(224),p=a(255);var b=function(t){Object(s.a)(a,t);var e=function(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var a,n=Object(d.a)(t);if(e()){var r=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).processData=function(e){for(var a=e.data,n=0;n<a.length;++n){var r=a[n].worker_data.pk,c=a[n].worker_data.full_name,o=t.props.urls.worker_edit_url_template.replace("12345",r),l=t.props.urls.worker_details_url_template.replace("12345",r);a[n].worker='<a href="'+o+'" target="_blank"><i class="far fa-edit"></i></a><span style="margin-left: 16px;"> </span><a href="'+l+'" target="_blank">'+c+"</a>"}return a},t}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,{columns:this.props.columns,data_url:this.props.urls.workers_list_dt_url,data_process:this.processData})}}]),a}(r.a.Component);a(235);var m=function(t){Object(s.a)(a,t);var e=function(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var a,n=Object(d.a)(t);if(e()){var r=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}(a);function a(t){var n;Object(l.a)(this,a),(n=e.call(this,t)).onFilterUpdate=function(t){n.setState((function(e){for(var a=0;a<e.columns.length;++a)e.columns[a].checked=t[e.columns[a].data];return e}))};return n.state={columns:[{title:"\u0414\u0430\u0442\u0430 \u0437\u0430\u043d\u0435\u0441\u0435\u043d\u0438\u044f",data:"input_date",checked:!0},{title:"\u0424\u0418\u041e",data:"worker",checked:!0,required:!0},{title:"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u0442\u0432\u043e",data:"citizenship",checked:!0},{title:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u041c\u041a",data:"m_date_of_exp",checked:!1},{title:"\u0421\u0435\u0440\u0438\u044f \u041c\u041a",data:"mig_series",checked:!1},{title:"\u041d\u043e\u043c\u0435\u0440 \u041c\u041a",data:"mig_number",checked:!1},{title:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",data:"position",checked:!0},{title:"\u0414\u0430\u0442\u0430 \u043f\u043e\u0441\u043b. \u0432\u044b\u0445\u043e\u0434\u0430",data:"last_turnout_date",checked:!1},{title:"\u041f\u043e\u0441\u043b. \u0432\u044b\u0445\u043e\u0434 \u043d\u0430",data:"last_turnout_customer",checked:!1},{title:"\u041a\u043e\u043b-\u0432\u043e \u0432\u044b\u0445\u043e\u0434\u043e\u0432",data:"turnouts_count",checked:!0},{title:"\u041a\u043e\u043b-\u0432\u043e \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432",data:"contracts_count",checked:!0},{title:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",data:"tel_number",checked:!0}]},n}return Object(i.a)(a,[{key:"render",value:function(){return[r.a.createElement("h",{className:"rh-header"},"\u0424\u0438\u0437. \u043b\u0438\u0446\u0430"),r.a.createElement(h.a,{columns:this.state.columns,onFilterUpdate:this.onFilterUpdate}),r.a.createElement(f.a,{href:this.props.urls.new_worker_url,target:"_blank",style:{marginLeft:"20px"}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e"),r.a.createElement(b,{columns:this.state.columns.filter((function(t){return t.checked})),urls:this.props.urls})]}}]),a}(r.a.Component);o.a.render(r.a.createElement(m,window.getPageProps()),document.getElementById("root"))}},[[396,21,0,24]]]);
//# sourceMappingURL=workers_list.f0f7c414.chunk.js.map